<!-- Scaffold for basic tools -->

<% provide(:title, @tool.title) %>
<% provide(:icon, @tool.icon_url) %>

<div class="tool-title">
    <i class="white <%= yield(:icon) %>"></i>
    <%= yield(:title) %>
</div>

<div class="col">
  <%= link_to send('new_' + @tool.name.singularize + '_path'), class: "btn btn-primary", remote: true do %>
    <i class="bi bi-plus-circle"></i> Crear Nuevo Lugar
  <% end %>
</div>

<%= render "objects_table" %>

<!-- Modal -->

<div id="<%= @tool.name.singularize %>-content"></div>

<% if params[:id].present? %>
  <script>
    $(document).on('turbolinks:load', function() {
      $("#<%= @tool.name.singularize %>-content").html("<%= j render 'show', object: Location.find(params[:id]) %>");
      $("#<%= @tool.name.singularize %>Modal").modal('show');
    });
  </script>
<% end %>
