$('#result').removeClass('d-none')
$('#result').html('<%= j render partial: "result" %>')
$('#copy_results').click(function() {
    // Get the contents of the div

    let content = '> ' + $('.card-title').text().trim() + '\n';

    let rawText = $('#travel-text').get(0).innerText;

    // Split the text into lines
    let lines = rawText.split('\n');

    // Trim leading spaces from each line
    let trimmedLines = lines.map(line => line.trimStart());

    // Rejoin the lines into a single string with newline characters
    content += '> ' + trimmedLines.filter(item => item && item.trim() !== "").join("\n>  * ");

    navigator.clipboard.writeText(content);

    $('.card-body').addClass( "highlight", 250, callback )

    function callback() {
      setTimeout(function() {
        $('.card-body').removeClass( "highlight" );
      }, 250 );
    }

});
$('#close_results').click(function() {
  $('#result').html("");
});
